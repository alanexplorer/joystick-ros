{"ast":null,"code":"var _jsxFileName = \"/home/alan/git/joystck-ros/src/Components/Joystck.js\";\nimport React, { Component } from 'react';\nimport ReactNipple from 'react-nipple';\nimport ROSLIB from 'roslib';\nimport Config from \"./config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Joystck extends Component {\n  constructor() {\n    super();\n    this.state = {\n      ros: null\n    };\n    this.init_connection();\n  }\n\n  init_connection() {\n    // eslint-disable-next-line\n    this.state.ros = new ROSLIB.Ros();\n    this.state.ros.on(\"connection\", () => {\n      console.info(\"Connected to ROS:TELEOP\");\n    });\n    this.state.ros.on(\"close\", () => {\n      console.warn(\"Disconnected from ROS:TELEOP\");\n      setTimeout(() => {\n        try {\n          this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n        } catch (error) {\n          console.error(\"Connection problem : TELEOP\");\n        }\n      }, Config.RECONNECTION_TIMER);\n    });\n    this.state.ros.on(\"error\", error => {});\n\n    try {\n      this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n    } catch (error) {\n      console.error(\"Connection problem : TELEOP\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ReactNipple, {\n        options: {\n          mode: 'static',\n          position: {\n            top: '50%',\n            left: '50%'\n          },\n          color: '#0066ff',\n          size: 150\n        },\n        style: {\n          width: 150,\n          height: 150,\n          position: 'relative'\n        },\n        onMove: (evt, data) => console.log(evt, data)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Joystck;","map":{"version":3,"sources":["/home/alan/git/joystck-ros/src/Components/Joystck.js"],"names":["React","Component","ReactNipple","ROSLIB","Config","Joystck","constructor","state","ros","init_connection","Ros","on","console","info","warn","setTimeout","connect","ROSBRIDGE_SERVER_IP","ROSBRIDGE_SERVER_PORT","error","RECONNECTION_TIMER","render","mode","position","top","left","color","size","width","height","evt","data","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;AAEA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAK/BK,EAAAA,WAAW,GAAE;AACZ;AADY,SAHVC,KAGU,GAHF;AACVC,MAAAA,GAAG,EAAG;AADI,KAGE;AAEZ,SAAKC,eAAL;AACA;;AAEDA,EAAAA,eAAe,GAAE;AAChB;AACA,SAAKF,KAAL,CAAWC,GAAX,GAAiB,IAAIL,MAAM,CAACO,GAAX,EAAjB;AAEA,SAAKH,KAAL,CAAWC,GAAX,CAAeG,EAAf,CAAkB,YAAlB,EAAgC,MAAM;AACrCC,MAAAA,OAAO,CAACC,IAAR,CAAa,yBAAb;AACA,KAFD;AAIA,SAAKN,KAAL,CAAWC,GAAX,CAAeG,EAAf,CAAkB,OAAlB,EAA2B,MAAM;AAChCC,MAAAA,OAAO,CAACE,IAAR,CAAa,8BAAb;AACAC,MAAAA,UAAU,CAAC,MAAI;AACd,YAAG;AACF,eAAKR,KAAL,CAAWC,GAAX,CAAeQ,OAAf,CACC,UAAQZ,MAAM,CAACa,mBAAf,GAAmC,GAAnC,GAAuCb,MAAM,CAACc,qBAA9C,GAAoE,EADrE;AAGA,SAJD,CAIC,OAAMC,KAAN,EAAY;AACZP,UAAAA,OAAO,CAACO,KAAR,CAAc,6BAAd;AACA;AACD,OARS,EAQRf,MAAM,CAACgB,kBARC,CAAV;AASA,KAXD;AAaA,SAAKb,KAAL,CAAWC,GAAX,CAAeG,EAAf,CAAkB,OAAlB,EAA4BQ,KAAD,IAAW,CAAE,CAAxC;;AAEA,QAAG;AACF,WAAKZ,KAAL,CAAWC,GAAX,CAAeQ,OAAf,CACC,UAAQZ,MAAM,CAACa,mBAAf,GAAmC,GAAnC,GAAuCb,MAAM,CAACc,qBAA9C,GAAoE,EADrE;AAGA,KAJD,CAIC,OAAMC,KAAN,EAAY;AACZP,MAAAA,OAAO,CAACO,KAAR,CAAc,6BAAd;AACA;AACD;;AAEEE,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,6BACI,QAAC,WAAD;AACI,QAAA,OAAO,EAAE;AAAEC,UAAAA,IAAI,EAAE,QAAR;AAAkBC,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,GAAG,EAAE,KAAP;AAAcC,YAAAA,IAAI,EAAE;AAApB,WAA5B;AAAyDC,UAAAA,KAAK,EAAE,SAAhE;AAA2EC,UAAAA,IAAI,EAAE;AAAjF,SADb;AAEI,QAAA,KAAK,EAAE;AACHC,UAAAA,KAAK,EAAE,GADJ;AAEHC,UAAAA,MAAM,EAAE,GAFL;AAGHN,UAAAA,QAAQ,EAAE;AAHP,SAFX;AAOI,QAAA,MAAM,EAAE,CAACO,GAAD,EAAMC,IAAN,KAAenB,OAAO,CAACoB,GAAR,CAAYF,GAAZ,EAAiBC,IAAjB;AAP3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAaH;;AAxD2B;;AA2DhC,eAAe1B,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport ReactNipple from 'react-nipple';\nimport ROSLIB from 'roslib';\nimport Config from \"./config\";\n\nclass Joystck extends Component {\n\n    state = {\n\t\tros : null\n\t};\n\tconstructor(){\n\t\tsuper();\n\t\tthis.init_connection();\n\t}\n\n\tinit_connection(){\n\t\t// eslint-disable-next-line\n\t\tthis.state.ros = new ROSLIB.Ros();\n\n\t\tthis.state.ros.on(\"connection\", () => {\n\t\t\tconsole.info(\"Connected to ROS:TELEOP\");\n\t\t});\n\n\t\tthis.state.ros.on(\"close\", () => {\n\t\t\tconsole.warn(\"Disconnected from ROS:TELEOP\");\n\t\t\tsetTimeout(()=>{\n\t\t\t\ttry{\n\t\t\t\t\tthis.state.ros.connect(\n\t\t\t\t\t\t\"ws://\"+Config.ROSBRIDGE_SERVER_IP+\":\"+Config.ROSBRIDGE_SERVER_PORT+\"\"\n\t\t\t\t\t);\n\t\t\t\t}catch(error){\n\t\t\t\t\tconsole.error(\"Connection problem : TELEOP\");\n\t\t\t\t}\n\t\t\t},Config.RECONNECTION_TIMER);\n\t\t});\n\n\t\tthis.state.ros.on(\"error\", (error) => {});\n\n\t\ttry{\n\t\t\tthis.state.ros.connect(\n\t\t\t\t\"ws://\"+Config.ROSBRIDGE_SERVER_IP+\":\"+Config.ROSBRIDGE_SERVER_PORT+\"\"\n\t\t\t);\n\t\t}catch(error){\n\t\t\tconsole.error(\"Connection problem : TELEOP\");\n\t\t}\n\t}\n\n    render() {\n        return (\n            <div>\n                <ReactNipple\n                    options={{ mode: 'static', position: { top: '50%', left: '50%' }, color: '#0066ff', size: 150 }}\n                    style={{\n                        width: 150,\n                        height: 150,\n                        position: 'relative'\n                    }}\n                    onMove={(evt, data) => console.log(evt, data)}\n                    />\n            </div>\n        );\n    }\n}\n\nexport default Joystck;"]},"metadata":{},"sourceType":"module"}